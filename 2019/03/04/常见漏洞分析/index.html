<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>常见漏洞分析 | </title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="常见漏洞的分析介绍">
<meta name="keywords" content="SQL注入漏洞,文件上传漏洞,命令注入漏洞,XXS漏洞,CSRF漏洞,SSRF漏洞,信息泄露类漏洞,DNS rebinding攻击,远程代码执行漏洞,url重定向攻击">
<meta property="og:type" content="article">
<meta property="og:title" content="常见漏洞分析">
<meta property="og:url" content="https://Hussar118.github.io/2019/03/04/常见漏洞分析/index.html">
<meta property="og:site_name">
<meta property="og:description" content="常见漏洞的分析介绍">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://s2.ax1x.com/2019/03/05/kj36Nq.png">
<meta property="og:image" content="https://s2.ax1x.com/2019/03/05/kXTmRI.png">
<meta property="og:image" content="https://s2.ax1x.com/2019/03/05/kXLZvR.png">
<meta property="og:image" content="https://s2.ax1x.com/2019/03/05/kXLfaT.png">
<meta property="og:image" content="https://s2.ax1x.com/2019/03/05/kjttl6.png">
<meta property="og:image" content="https://s2.ax1x.com/2019/03/05/kjtXBF.png">
<meta property="og:image" content="https://s2.ax1x.com/2019/03/06/kvio3q.png">
<meta property="og:image" content="https://s2.ax1x.com/2019/03/06/kvkWfs.png">
<meta property="og:image" content="https://s2.ax1x.com/2019/03/06/kvwCtg.png">
<meta property="og:image" content="https://s2.ax1x.com/2019/03/07/kv4La4.png">
<meta property="og:image" content="https://s2.ax1x.com/2019/03/20/AKpeJJ.png">
<meta property="og:image" content="https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1553057970500&di=98f30b7b750b4399aedb022c28b55f09&imgtype=0&src=http%3A%2F%2Fwww.0xby.com%2Fwp-content%2Fuploads%2F2018%2F07%2F0b9ec48620df953ea1787289eb1a22f4.jpg">
<meta property="og:updated_time" content="2019-03-20T12:06:45.476Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="常见漏洞分析">
<meta name="twitter:description" content="常见漏洞的分析介绍">
<meta name="twitter:image" content="https://s2.ax1x.com/2019/03/05/kj36Nq.png">
  
    <link rel="alternative" href="/atom.xml" title="" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/fengye.png">
  
  
      <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <!-- 加载特效 -->
    <script src="/js/pace.js"></script>
    <link href="/css/pace/pace-theme-flash.css" rel="stylesheet">

  
  
  <script>
      var yiliaConfig = {
          rootUrl: '/',
          fancybox: true,
          animate: true,
          isHome: false,
          isPost: true,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
</head></html>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            
            <img lazy-src="/img/touxiang.jpg" class="js-avatar">
            
        </a>

        <hgroup>
          <h1 class="header-author"><a href="/" title="Hi Mate">Hussar</a></h1>
        </hgroup>

        
        <p class="header-subtitle">满堂花醉三千客  一剑霜寒十四州</p>
        
        
        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide" style="font-size: 20px">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="https://hussar118.github.io/">博客首页</a></li>
                        
                            <li><a href="/archives">全部文章</a></li>
                        
                            <li><a href="/tags">静心阅读</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fl mail" target="_blank" href="mailto:&#49;&#52;&#52;&#57;&#53;&#57;&#56;&#49;&#56;&#54;&#64;&#113;&#113;&#46;&#99;&#111;&#109;" title="mail">mail</a>
                            
                                <a class="fl github" target="_blank" href="https://github.com/Hussar118" title="github">github</a>
                            
                                <a class="fl zhihu" target="_blank" href="https://www.zhihu.com/people/shuai-bi-15-18/activities" title="zhihu">zhihu</a>
                            
                                <a class="fl QQ" target="_blank" href="http://wpa.qq.com/msgrd?v=3&uin=1449598186&site=qq&menu=yes" title="QQ">QQ</a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/CSRF漏洞/" style="font-size: 10px;">CSRF漏洞</a> <a href="/tags/Cookie/" style="font-size: 10px;">Cookie</a> <a href="/tags/DNS-rebinding攻击/" style="font-size: 10px;">DNS rebinding攻击</a> <a href="/tags/DNS服务器/" style="font-size: 10px;">DNS服务器</a> <a href="/tags/HTTP代理/" style="font-size: 10px;">HTTP代理</a> <a href="/tags/NAT网络地址转换/" style="font-size: 10px;">NAT网络地址转换</a> <a href="/tags/SQL注入漏洞/" style="font-size: 10px;">SQL注入漏洞</a> <a href="/tags/SSL安全套接层/" style="font-size: 10px;">SSL安全套接层</a> <a href="/tags/SSRF漏洞/" style="font-size: 10px;">SSRF漏洞</a> <a href="/tags/Session/" style="font-size: 10px;">Session</a> <a href="/tags/VPN虚拟专用网络/" style="font-size: 10px;">VPN虚拟专用网络</a> <a href="/tags/VWmare/" style="font-size: 10px;">VWmare</a> <a href="/tags/Windows常用系统命令和功能/" style="font-size: 10px;">Windows常用系统命令和功能</a> <a href="/tags/XFF-X-Forwarded-For/" style="font-size: 10px;">XFF(X-Forwarded-For)</a> <a href="/tags/XXS漏洞/" style="font-size: 10px;">XXS漏洞</a> <a href="/tags/hackbar/" style="font-size: 10px;">hackbar</a> <a href="/tags/kali/" style="font-size: 10px;">kali</a> <a href="/tags/linux常用系统命令和功能/" style="font-size: 10px;">linux常用系统命令和功能</a> <a href="/tags/sqlmap/" style="font-size: 10px;">sqlmap</a> <a href="/tags/url重定向攻击/" style="font-size: 10px;">url重定向攻击</a> <a href="/tags/webshell/" style="font-size: 10px;">webshell</a> <a href="/tags/whois/" style="font-size: 10px;">whois</a> <a href="/tags/一句话木马/" style="font-size: 10px;">一句话木马</a> <a href="/tags/三种网络模式/" style="font-size: 10px;">三种网络模式</a> <a href="/tags/中国菜刀/" style="font-size: 10px;">中国菜刀</a> <a href="/tags/信息搜集/" style="font-size: 10px;">信息搜集</a> <a href="/tags/信息泄露类漏洞/" style="font-size: 10px;">信息泄露类漏洞</a> <a href="/tags/加密/" style="font-size: 10px;">加密</a> <a href="/tags/同源策略/" style="font-size: 10px;">同源策略</a> <a href="/tags/命令注入漏洞/" style="font-size: 10px;">命令注入漏洞</a> <a href="/tags/大马/" style="font-size: 10px;">大马</a> <a href="/tags/子网掩码/" style="font-size: 10px;">子网掩码</a> <a href="/tags/心得感想/" style="font-size: 10px;">心得感想</a> <a href="/tags/提权/" style="font-size: 10px;">提权</a> <a href="/tags/文件上传漏洞/" style="font-size: 10px;">文件上传漏洞</a> <a href="/tags/渗透测试介绍/" style="font-size: 10px;">渗透测试介绍</a> <a href="/tags/漏洞/" style="font-size: 10px;">漏洞</a> <a href="/tags/系统和软件更新/" style="font-size: 10px;">系统和软件更新</a> <a href="/tags/网络安全/" style="font-size: 10px;">网络安全</a> <a href="/tags/自我鼓励/" style="font-size: 10px;">自我鼓励</a> <a href="/tags/虚拟机快照/" style="font-size: 10px;">虚拟机快照</a> <a href="/tags/远程代码执行漏洞/" style="font-size: 10px;">远程代码执行漏洞</a> <a href="/tags/默认网关/" style="font-size: 10px;">默认网关</a>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="/">希望大家留下自己的博客！</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">阳光、爱运动、喜欢迎接新的挑战、网络安全人员、渗透测试工程师成长ing</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
<div style="position:absolute; bottom:50px;left:0px; width:50%">
    <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="300" height="100" src="//music.163.com/outchain/player?type=2&id=33251776&auto=0&height=66"></iframe>
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="Me">Hussar</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img lazy-src="/img/touxiang.jpg" class="js-avatar">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="Me">Hussar</a></h1>
            </hgroup>
            
            <p class="header-subtitle">满堂花醉三千客  一剑霜寒十四州</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="https://hussar118.github.io/">博客首页</a></li>
                
                    <li><a href="/archives">全部文章</a></li>
                
                    <li><a href="/tags">静心阅读</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                <div class="social">
                    
                        <a class="mail" target="_blank" href="mailto:&#49;&#52;&#52;&#57;&#53;&#57;&#56;&#49;&#56;&#54;&#64;&#113;&#113;&#46;&#99;&#111;&#109;" title="mail">mail</a>
                    
                        <a class="github" target="_blank" href="https://github.com/Hussar118" title="github">github</a>
                    
                        <a class="zhihu" target="_blank" href="https://www.zhihu.com/people/shuai-bi-15-18/activities" title="zhihu">zhihu</a>
                    
                        <a class="QQ" target="_blank" href="http://wpa.qq.com/msgrd?v=3&uin=1449598186&site=qq&menu=yes" title="QQ">QQ</a>
                    
                </div>
            </nav>
        </header>                
    </div>
</nav>
      <div class="body-wrap"><article id="post-常见漏洞分析" class="article article-type-post" itemscope="" itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/03/04/常见漏洞分析/" class="article-date">
      <time datetime="2019-03-04T12:42:56.483Z" itemprop="datePublished">2019-03-04</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy">
    
    
      <!--文章头-->
      <header class="article-header" style="font-size:30px,color:#3399FF">
        
  
    <h1 class="article-title" itemprop="name">
      常见漏洞分析
    </h1>
  


      </header>
      
      <div class="article-info article-info-post">
        
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/漏洞/">漏洞</a>
    </div>


        
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CSRF漏洞/">CSRF漏洞</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DNS-rebinding攻击/">DNS rebinding攻击</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SQL注入漏洞/">SQL注入漏洞</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SSRF漏洞/">SSRF漏洞</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/XXS漏洞/">XXS漏洞</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/url重定向攻击/">url重定向攻击</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/信息泄露类漏洞/">信息泄露类漏洞</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/命令注入漏洞/">命令注入漏洞</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/文件上传漏洞/">文件上传漏洞</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/远程代码执行漏洞/">远程代码执行漏洞</a></li></ul>
    </div>

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <center><font color="#4094C7" size="4">常见漏洞分析介绍</font></center>

<h1 id="SQL注入漏洞"><a href="#SQL注入漏洞" class="headerlink" title="SQL注入漏洞"></a><font color="#FF0000">SQL注入漏洞</font></h1><hr>
<ol>
<li>介绍：SQL注入是恶意用户通过把精心构造的SQL语句当做查询参数的一部分提交给Web服务器应用程序，最终欺骗服务器执行恶意的SQL命令并导致用户信息泄露甚至是服务器被控制的漏洞。<br><img src="https://s2.ax1x.com/2019/03/05/kj36Nq.png" alt="image"></li>
<li>判断是否存在注入：(and 1=1 / and 1=2)</li>
<li>判断有多少列:(order by n)</li>
<li>判断数据显示点:(union select 1,2,3,…)</li>
<li>查看数据库基本信息:(union select 1,version(),database())</li>
</ol>
<h1 id="文件上传漏洞"><a href="#文件上传漏洞" class="headerlink" title="文件上传漏洞"></a><font color="#FF0000">文件上传漏洞</font></h1><hr>
<ol>
<li>文件上传流程：前端校验-&gt;http协议传输-&gt;web应用程序校验-&gt;web应用程序储存-&gt;web应用程序解析执行<br><img src="https://s2.ax1x.com/2019/03/05/kXTmRI.png" alt="image"></li>
<li>类型分析：<br>①任意文件上传：Web应用系统没有对用户上传的文件做任何校验就直接上传到Web服务器。恶意用户可以直接上传一句话木马到Web服务器，从而控制Web服务器。 (开发人员测试代码没有删除、上传文件经过压缩编码、通过特定的客户端上传，如APP)<br>②绕过js检验上传：Web应用系统虽然对用户上传的文件进行了校验，但是校验是通过前端javascript代码完成的。由于恶意用户可以对前端javascript进行修改或者是通过抓包软件篡改上传文件，就会导致基于js的校验很容易被绕过。绕过方法有：修改前端JavaScript、使用Burp Suite篡改上传的文件。<br>③后端上传代码校验绕过：一般根据绕过Web应用校验的方法可以分为：绕过文件类型校验(部分Web应用系统判定文件类型是通过content-type字段，测试人员可以通过抓包，将content-type字段改为常见的图片类型，如image/gif，从而绕过校验)、绕过扩展名验证(一般针对黑名单的Web应用系统。黑名单检测方式一般有个专门的blacklist文件或者列表，里面会包含常见的危险脚本文件类型，所有在黑名单中的文件都不允许上传。)、绕过文件头校验(Web应用程序在检验文件类型、文件扩展名的同时，也会校验文件头，从而进一步确定文件的类型。针对这种情况，可以通过在上传的一句话木马文件的开头加入特定的文件头从而绕过这种验证方式)。<br><img src="https://s2.ax1x.com/2019/03/05/kXLZvR.png" alt="image"><br><img src="https://s2.ax1x.com/2019/03/05/kXLfaT.png" alt="image"><br>④结合00截断：在上传文件的时候，web应用程序经过一系列文件校验之后，最终调用php的内置函数move_uploaded_file保存文件。在某些版本的PHP下，该函数遇到\x00字符后悔截断路径名。测试人员通过构造包含\x00的特殊文件名就可以通过上传文件的扩展名校验，但是保存时却以非法的扩展名保存文件。(如上传文件名为”test.php\x00.jpg”这类文件可以通过文件类型必须是jpg校验，但最终在调用move_uploaded_file时遇到了\x00所以保存成了test.php)<br>⑤结合解析漏洞：Web中间件遇到特殊类型的文件时会被当成代码执行。不同的Web中间件触发解析漏洞的文件类型也不同。(IIS6.0:”test.asp;.php”会被IIS6.0当做test.php解析)</li>
</ol>
<h1 id="命令注入漏洞"><a href="#命令注入漏洞" class="headerlink" title="命令注入漏洞"></a><font color="#FF0000">命令注入漏洞</font></h1><hr>
<ol>
<li>介绍：命令注入漏洞的危害跟web中间件的运行的权限有关。由于web应用运行在web中间件上，所以web应用会“继承”web中间件的运行权限。如果存在命令注入漏洞的web应用运行在以系统管理员身份运行的web中间件上，那么黑客就相当于拥有一个管理员权限的shell。黑客可以利用漏洞任意的执行权限允许的命令(查看系统敏感信息、添加管理员、反弹shell、下载并运行恶意代码)</li>
<li>命令注入漏洞本质：由于系统把用户输入进来的参数当成了要执行的命令，并且这些命令被执行了，这样就造成了命令注入漏洞。</li>
<li>命令注入漏洞产生原因：①web网站没有对用户提交的参数进行有效的检测过滤 ②操作系统运行一条语句执行多条命令(使用连接符和管道符)</li>
<li><p>连接符和管道符：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">command1  &amp; command2  :  先后执行command1 和 command2，无论command1执行是否成功</span><br><span class="line">command1 &amp;&amp; command2  :  先后执行command1 和 command2，只有command1执行成功时才执行command2</span><br><span class="line">command1 || command2  :  先后执行command1 和 command2，只有command1执行失败时才执行command2</span><br><span class="line">command1  | command2  :  |是管道符，将command1的执行结果传递给command2</span><br></pre></td></tr></table></figure>
</li>
<li><p>漏洞利用流程：查找可以执行命令的接口-&gt;判断是否存在命令注入-&gt;查看当前系统当前信息-&gt;查看当前用户权限-&gt;添加新用户或者反弹shell-&gt;控制目标服务器<br><img src="https://s2.ax1x.com/2019/03/05/kjttl6.png" alt="image"><br><img src="https://s2.ax1x.com/2019/03/05/kjtXBF.png" alt="image"></p>
</li>
</ol>
<h1 id="XSS漏洞"><a href="#XSS漏洞" class="headerlink" title="XSS漏洞"></a><font color="#FF0000">XSS漏洞</font></h1><hr>
<ol>
<li>介绍：XSS攻击全称：跨站脚本攻击，是为不和层叠样式表的缩写混淆，故意将跨站脚本攻击写成XSS，XSS是一种在web应用中的计算机安全漏洞，它允许恶意web用户将代码植入到提供给其它用户使用的页面中，从而导致各种安全问题，如cookie泄漏、网站挂马。<br><img src="https://s2.ax1x.com/2019/03/06/kvio3q.png" alt="image"></li>
<li>XSS的原理是web应用程序混淆了用户提交的数据和js脚本的代码边界，导致浏览器把用户的输入当成了JS代码来执行</li>
<li>分类：<br>反射型：非持久型XSS，也就是攻击相对于受害者而言的一次性的，具体表现在受害者点击了含有的恶意JavaScript脚本的url，而Web应用程序只是不加处理的把恶意脚本“反射”回受害者的浏览器而使受害者的浏览器执行相应的脚本。<br><img src="https://s2.ax1x.com/2019/03/06/kvkWfs.png" alt="image"><br>存储型：持久型XSS，攻击者上传的包含恶意js脚本的留言等消息被Web应用程序保存到数据库中，Web应用程序在生成新的页面的时候如果包含了该恶意js脚本，这样会导致所有访问该网页的浏览器执行该恶意js脚本。这种攻击类型常见在博客、论坛等网站。<br>DOM型：DOM是一个平台和语言都中立的接口，可以使程序和脚本能够动态访问和更新文档的内容、结构及样式。DOM型XSS其实是一种特殊类型的反射型XSS，它是基于DOM文档对象模型的一种漏洞，而且不需要与服务端进行交互。客户端的脚本程序可以通过DOM来动态修改页面内容，从客户端获取DOM中的数据并在本地执行。基于这个特性，就可以利用JS脚本来实现XSS漏洞的利用。</li>
<li>发现和利用：<br>反射型XSS：可以查看代码，查找关键的变量，假如用户提交的变量经过htmlEncode处理就返回，那么这个变量就很有可能存在一个反射型XSS漏洞。<br>存储型XSS：一般需要查找像留言板、发帖等网站功能，然后在留言板、帖子中插入<script>alert(“XSS”)</script>之类的测试代码。在提交成功后，可以在访问之前发布的留言或者帖子，如果弹窗了，可以那么这个位置就存在一个存储型XSS漏洞。<br>DOM型XSS：不与服务器进行交互，因此我们一般挖掘此类漏洞需要分析javascript代码。如果是自定义函数，则需要一步一步来把对方自定义的函数来搞清楚。</li>
<li>自动化检测XSS漏洞:在实际的渗透测试中，往往为了加快测试进度，我们可以使用一些自动化的XSS检测工具(Awvs、AppScan、w3af、XSSer、XSSF)。</li>
<li>XSS利用工具：BlueLotus_XSSReceiver搭建的XSS平台、XSSer.me源码搭建的XSS平台、kali下的BeFF。</li>
<li>XSS攻击流程：攻击者发现XSS漏洞-&gt;构造代码-&gt;发送给受害人-&gt;受害人打开-&gt;攻击者获取受害人的cookie-&gt;完成攻击</li>
</ol>
<h1 id="CSRF漏洞"><a href="#CSRF漏洞" class="headerlink" title="CSRF漏洞"></a><font color="#FF0000">CSRF漏洞</font></h1><hr>
<ol>
<li>介绍：通过伪装来自受信任用户的请求来利用受信用的网站。攻击者盗用了你的身份，以你的名义发送恶意请求。</li>
<li>原理：web应用程序在用户进行敏感操作时，如修改账号密码、添加账号、转账时，没有校验表单token或者http请求头中的referer值，从而导致恶意攻击者利用被攻击者的身份完成对应的恶意请求。 CSRF一般用于操作用户的资源，或者使用用户的权限进行操作，或者窃取用户的相关信息。</li>
<li>CSRF攻击流程：发现漏洞-&gt;构造代码-&gt;发送给受害人-&gt;受害人打开-&gt;受害人执行代码-&gt;完成攻击</li>
<li>漏洞原理：<br><img src="https://s2.ax1x.com/2019/03/06/kvwCtg.png" alt="image"></li>
</ol>
<h1 id="信息泄露类漏洞"><a href="#信息泄露类漏洞" class="headerlink" title="信息泄露类漏洞"></a><font color="#FF0000">信息泄露类漏洞</font></h1><hr>
<ol>
<li>目录遍历：Web中间件与网站目录权限配置不当，在网站目录无索引文件(index.html、index.asp、index.php、index.jsp等)的情况下，访问该网站目录时会直接显示该目录下所有的文件及其子目录·。通过对Web中间件进行正确的配置，可以有效的避免这类漏洞。</li>
<li>目录遍历利用方式：如果发现web应用程序存在目录遍历漏洞，那么可以手动查找该网站的后台地址、备份文件等敏感信息。结合搜索的敏感信息，渗透测试人员可以进行下一步的渗透，如爆破管理员密码、分析网站源码等。</li>
<li>敏感信息泄露：一切泄露的可能危害Web服务器安全的信息。敏感信息搜集也是渗透测试中至关重要的一环。Web服务器敏感信息泄露会给黑客提供组多的攻击思路，严重威胁Web服务器的安全。一般没有直接危害，但恶意攻击者根据这些信息可以大大增加攻击面。(例：根据404信息可以推断出web中间件是weblogic，使用相关工具检测发现该版本的weblogic存在java反序列化漏洞可以执行的系统命令)</li>
<li>敏感信息泄露分类：Web服务器敏感信息泄露(Web服务器开放端口、Web服务器开放服务器类型、Web服务器开放服务版本)Web中间价敏感信息泄露(Web中间件类型、Web中间件版本、Web中间件后台地址)Web应用程序敏感信息泄露(Web应用程序脚本程序版本、Web应用程序开发框架、Web应用程序cms类型、Web应用程序后台地址、敏感目录、API等、Web应用程序安装目录信息、Web应用程序开发遗留文件、Web应用程序采用的第三方插件的类型和版本信息、Web应用程序的whois信息)</li>
<li>敏感信息泄露防御：对Web服务器敏感信息泄露的防御措施(修改安装的服务的默认端口、屏蔽安装的服务的版本信息)，对Web中间件敏感信息泄露的防御措施(屏蔽Web中间件版本信息、修改Web中间件默认的后台地址)，对Web应用程序敏感信息泄露的防御措施(屏蔽采用的网站框架和模板、修改默认网站的后台路径、删除开发遗留的版本控制文件、对网站的whois信息采取隐私保护措施)</li>
<li>任意文件读取漏洞介绍：一般的网站提供读取文件功能，常规的思路是使用一个动态页面(php、jsp、aspx、asp等)将待下载的文件作为参数，根据不同的参数值下载不同的文件。如果网站配置不当，并且没有对用户下载的文件参数进行有效的过滤检测，恶意用户就会下载任意文件，如web的数据库配置文件等。<br><img src="https://s2.ax1x.com/2019/03/07/kv4La4.png" alt="image"></li>
<li>任意文件读取漏洞危害：属于一种高位的Web安全漏洞，这种漏洞会泄露网站敏感信息导致网站处于极度不安全状态(下载服务器任意文件，如脚本代码、服务及系统配置文件等)(根据Web应用源代码进一步进行代码审计，得到更多可利用的漏洞)</li>
<li>任意文件读取漏洞利用：手工挖掘任意文件读取漏洞需要注意网站提供的下载功能。(从链接上看：readfile.php?file=<strong><em>.txt 、 download.php?file+</em></strong>.rar)(从参数名看：RealPath=、FilePath=、inputFile)。找到可以的参数值后，替换下载的文件名为下列敏感的系统文件。如果下载成功，证明存在任意文件读取漏洞。利用任意文件读取漏洞，可以通过分析Web应用程序各个文件之间的调用关系，下载整个Web应用程序源代码。从源代码当中可以分析出数据库账号密码、后台路径等敏感信息，渗透测试人员也可以对网站源代码进行代码审计，深入挖掘各类漏洞。</li>
</ol>
<h1 id="SSRF漏洞"><a href="#SSRF漏洞" class="headerlink" title="SSRF漏洞"></a><font color="#FF0000">SSRF漏洞</font></h1><hr>
<ol>
<li>介绍：全名为服务端请求伪造，是一种<font color="#FF0000">由攻击者构造形成由服务端发起请求</font>的一种安全漏洞。一般情况下，SSRF攻击的目标是从外网无法访问的内网系统。由于该攻击是由服务端发起的，所以它可以<font color="#FF0000">请求到与它相连而与外网隔离的内部系统</font>。</li>
<li>成因：SSRF 形成的原因大都是由于服务端提供了从其他服务器应用获取数据的功能且没有对目标地址做过滤与限制。比如从指定URL地址获取网页文本内容，加载指定地址的图片，下载等等。</li>
<li>常用的后端实现<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">file_get_contents()函数</span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>($_POST[<span class="string">'url'</span>])) &#123; </span><br><span class="line">    $content = file_get_contents($_POST[<span class="string">'url'</span>]); </span><br><span class="line">    $filename =<span class="string">'./images/'</span>.rand().<span class="string">';img1.jpg'</span>; </span><br><span class="line">    file_put_contents($filename, $content); </span><br><span class="line">    <span class="keyword">echo</span> $_POST[<span class="string">'url'</span>]; </span><br><span class="line">    $img = <span class="string">"&lt;img src=\""</span>.$filename.<span class="string">"\"/&gt;"</span>; </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">echo</span> $img;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"><span class="comment">#这段代码使用 file_get_contents 函数从用户指定的 URL 获取图片。然后把它用一个随机文件名保存在硬盘上，并展示给用户。</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">fsockopen()函数</span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">GetFile</span><span class="params">($host,$port,$link)</span> </span>&#123; </span><br><span class="line">    $fp = fsockopen($host, intval($port), $errno, $errstr, <span class="number">30</span>); </span><br><span class="line">    <span class="keyword">if</span> (!$fp) &#123; </span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"$errstr (error number $errno) \n"</span>; </span><br><span class="line">    &#125; <span class="keyword">else</span> &#123; </span><br><span class="line">        $out = <span class="string">"GET $link HTTP/1.1\r\n"</span>; </span><br><span class="line">        $out .= <span class="string">"Host: $host\r\n"</span>; </span><br><span class="line">        $out .= <span class="string">"Connection: Close\r\n\r\n"</span>; </span><br><span class="line">        $out .= <span class="string">"\r\n"</span>; </span><br><span class="line">        fwrite($fp, $out); </span><br><span class="line">        $contents=<span class="string">''</span>; </span><br><span class="line">        <span class="keyword">while</span> (!feof($fp)) &#123; </span><br><span class="line">            $contents.= fgets($fp, <span class="number">1024</span>); </span><br><span class="line">        &#125; </span><br><span class="line">        fclose($fp); </span><br><span class="line">        <span class="keyword">return</span> $contents; </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">这段代码使用 fsockopen 函数实现获取用户制定 URL 的数据（文件或者 HTML）。这个函数会使用 socket 跟服务器建立 TCP 连接，传输原始数据。</span><br></pre></td></tr></table></figure>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">curl_exec()函数</span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">isset</span>($_POST[<span class="string">'url'</span>])) &#123;</span><br><span class="line">    $link = $_POST[<span class="string">'url'</span>];</span><br><span class="line">    $curlobj = curl_init();</span><br><span class="line">    curl_setopt($curlobj, CURLOPT_POST, <span class="number">0</span>);</span><br><span class="line">    curl_setopt($curlobj,CURLOPT_URL,$link);</span><br><span class="line">    curl_setopt($curlobj, CURLOPT_RETURNTRANSFER, <span class="number">1</span>);</span><br><span class="line">    $result=curl_exec($curlobj);</span><br><span class="line">    curl_close($curlobj);</span><br><span class="line"></span><br><span class="line">    $filename = <span class="string">'./curled/'</span>.rand().<span class="string">'.txt'</span>;</span><br><span class="line">    file_put_contents($filename, $result); </span><br><span class="line">    <span class="keyword">echo</span> $result;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">使用 curl 获取数据。</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>分析举例：html，php，asp，jsp 具有这些文件后缀的文件通常储存在web服务器（网站服务器）中，而且web服务器都具有独立ip。而网站访问的大致步骤：用户在地址栏输入网址 -&gt; 向目标网站发送请求 -&gt; 目标网站接受请求并在服务器端验证请求是否合法，然后返回用户所需要的页面 -&gt; 用户接收页面并在浏览器中显示。<br><img src="https://s2.ax1x.com/2019/03/20/AKpeJJ.png" alt="image"></li>
<li>SSRF漏洞寻找：通过URL地址分享网页内容、转码服务、在线翻译、图片加载与下载(通过URL地址加载或下载图片)、图片和文章收藏功能、未公开的api实现以及其他调用URL的功能、从URL关键字中寻找(share\wap\url\link\src\source\target\u\3g\display\sourceURl\imageURL\domain…)</li>
<li>验证方法:<br>①因为SSRF漏洞是构造服务器发送请求的安全漏洞，所以我们就可以通过抓包分析发送的请求是否是由服务器的发送的来判断是否存在SSRF漏洞。<br>②在页面源码中查找访问的资源地址 ，如果该资源地址类型为 [<a href="http://www.xxx.com/a.php?image=（地址）]的就可能存在SSRF漏洞。" target="_blank" rel="noopener">http://www.xxx.com/a.php?image=（地址）]的就可能存在SSRF漏洞。</a><br><img src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1553057970500&amp;di=98f30b7b750b4399aedb022c28b55f09&amp;imgtype=0&amp;src=http%3A%2F%2Fwww.0xby.com%2Fwp-content%2Fuploads%2F2018%2F07%2F0b9ec48620df953ea1787289eb1a22f4.jpg" alt="image"></li>
</ol>
<h1 id="DNS-rebinding攻击"><a href="#DNS-rebinding攻击" class="headerlink" title="DNS rebinding攻击"></a><font color="#FF0000">DNS rebinding攻击</font></h1><hr>
<ol>
<li>介绍：DNS重定向攻击，同源策略要求在同一个域下面的东西不会引用其它域的内容，但是！！这个规则不适用于<script>,<link>,<iframe>,<img>等标签的SRC属性。这也是为什么同源规则无法防止挂马的根本原因。我们通过欺诈的手段把你在站点A的资源引入到站点B上</li>
<li>案例分析：<br>①弄一个域名，比如<a href="http://www.badguy.com/">http://www.badguy.com/</a><br>②瞄准一个目标，例如<a href="http://www.victim.com/">http://www.victim.com/</a><br>③把<a href="http://www.badguy.com/的TTL注册为一个很短的时间，例如1秒">http://www.badguy.com/的TTL注册为一个很短的时间，例如1秒</a><br>④然后，在<a href="http://www.victim.com/注册个帐号，登录之后，在个人主页之类的地方上传些坏东西(例如木马，不过场景是假设的，所以可能会不成功哦，奉劝大家也别想着干坏事了:p)">http://www.victim.com/注册个帐号，登录之后，在个人主页之类的地方上传些坏东西(例如木马，不过场景是假设的，所以可能会不成功哦，奉劝大家也别想着干坏事了:p)</a><br>⑤登录<a href="http://www.victim.com/的时候选择记住密码，然后查看cookie的信息，把记录登录信息的那段信息截出来。写一段JS放到http://www.badguy.com/,让访问的用户都会保留这段cookie信息到http://www.badguy.com/的域名下。">http://www.victim.com/的时候选择记住密码，然后查看cookie的信息，把记录登录信息的那段信息截出来。写一段JS放到http://www.badguy.com/,让访问的用户都会保留这段cookie信息到http://www.badguy.com/的域名下。</a><br>⑥让用户访问<a href="http://www.badguy.com/，之后用脚本控制这个用户在2秒后(&gt;TTL时间)重定向到http://www.badguy.com/,在这段时间内我们需要马上关闭DNS服务器，并且把http://www.victim.com/的IP绑定到http://www.badguy.com/上，好了，两秒之后，如无意外，这个用户会访问到http://www.victim.com/上的你的登录页，如果有木马，就会中招。">http://www.badguy.com/，之后用脚本控制这个用户在2秒后(&gt;TTL时间)重定向到http://www.badguy.com/,在这段时间内我们需要马上关闭DNS服务器，并且把http://www.victim.com/的IP绑定到http://www.badguy.com/上，好了，两秒之后，如无意外，这个用户会访问到http://www.victim.com/上的你的登录页，如果有木马，就会中招。</a></li>
</ol>
<h1 id="远程代码执行漏洞"><a href="#远程代码执行漏洞" class="headerlink" title="远程代码执行漏洞"></a><font color=#FF0000>远程代码执行漏洞</font></h1><hr>
<ol>
<li>介绍：用户通过浏览器提交执行命令，由于服务器端没有针对执行函数做过滤，导致在没有指定绝对路径的情况下就执行命令，可能会允许攻击者通过改变 $PATH 或程序执行环境的其他方面来执行一个恶意构造的代码。</li>
<li>漏洞原理：由于开发人员编写源码，没有针对代码中可执行的特殊函数入口做过滤，导致客户端可以提交恶意构造语句提交，并交由服务器端执行。命令注入攻击中WEB服务器没有过滤类似system(),eval()，exec()等函数是该漏洞攻击成功的最主要原因。像堆溢出，栈溢出，整型溢出，类型混淆，use after free，访问越界，格式化字符串等都会导致远程代码执行。</li>
<li>危害：命令执行，对于攻击者来说是打开缺口的绝好方法，可长驱直入控制内网，甚至脱裤。攻击者可以通过远程调用的方式来让被攻击计算机设备执行恶意程序，从而控制远程计算机。</li>
<li>防御：开发程序时，要假定所有的输入都是可疑的，尝试对所有输入提交可能执行命令的构造语句进行严格的检查或者控制外部的输入，系统命令执行函数的参数不允许外部传递。简单来说，卡住入口点很关键。对输入的数据不仅要验证数据的类型，还要验证其格式、长度、范围和内容。</li>
<li>案例分析：wooyun上的三星默认输入法远程代码执行。攻击前提是攻击者能够劫持流量：首先，该输入法在更新语言包时，对下载的文件校验不严格，没有签名，中间人可以同时篡改下载文件和对应的hash值绕过校验；然后，语言压缩包中的文件是由 system user写入的，有很高的权限，可以写入很多位置；再者，odex文件完整性校验机制有问题，只是校验odex文件的crc32和modify time；由以上第二点，包含在语言zip包中的恶意odex文件就可以覆盖/data/dalvik-cache/目录下的odex；由第三点，保证恶意odex的crc32和modify time和源odex文件一致，绕过odex文件校验，以system user权限执行恶意的odex。</li>
</ol>
<h1 id="url重定向攻击"><a href="#url重定向攻击" class="headerlink" title="url重定向攻击"></a><font color=#FF0000>url重定向攻击</font></h1><hr>
<ol>
<li>介绍：通过以GET或者POST的方式接收将要跳转的URL，然后通过上面的几种方式的其中一种来跳转到目标URL。一方面，由于用户的输入会进入Meta，javascript，http头所以都可能发生相应上下文的漏洞，如xss等等，但是同时，即使只是对于URL跳转本身功能方面就存在一个缺陷，因为会将用户浏览器从可信的站点导向到不可信的站点，同时如果跳转的时候带有敏感数据一样可能将敏感数据泄漏给不可信的第三方。<br><img src="https://s2.ax1x.com/2019/03/20/AlfX8O.png" alt="image"></li>
<li>攻击方式和危害：恶意用户完全可以借用URL跳转漏洞来欺骗安全意识低的用户，从而导致“中奖”之类的欺诈，这对于一些有在线业务的企业如淘宝等，危害较大，同时借助URL跳转，也可以突破常见的基于“白名单方式”的一些安全限制，如传统IM里对于URL的传播会进行安全校验，但是对于大公司的域名及URL将直接允许通过并且显示会可信的URL，而一旦该URL里包含一些跳转漏洞将可能导致安全限制被绕过。如果引用一些资源的限制是依赖于“白名单方式”，同样可能被绕过导致安全风险，譬如常见的一些应用允许引入可信站点如youku.com的视频，限制方式往往是检查URL是否是youku.com来实现，如果youku.com内含一个url跳转漏洞，将导致最终引入的资源属于不可信的第三方资源或者恶意站点，最终导致安全问题。这种漏洞一般都是配合钓鱼网站使用。<br><img src="https://img-blog.csdn.net/20180309233758892" alt="image"></li>
<li>突破技巧：当某参数为url=<a href="http://xxxx.cn时可以尝试url重定向，但是多大数都会失败，我们可以使用@突破。例如：url=http://xxx.cn@www.baidu.com">http://xxxx.cn时可以尝试url重定向，但是多大数都会失败，我们可以使用@突破。例如：url=http://xxx.cn@www.baidu.com</a> 发现可以实现跳转。</li>
</ol>
<p>#未完待续……</p>
</script></li></ol>
      
      
        <div class="page-reward">
          <p><a href="javascript:void(0)" onclick="dashangToggle()" class="dashang">赏</a></p>
          <div class="hide_box"></div>
          <div class="shang_box">
            <a class="shang_close" href="javascript:void(0)" onclick="dashangToggle()">×</a>
            <div class="shang_tit">
              <p>谢谢打赏！</p>
            </div>
            <div class="shang_payimg">
              <img src="/img/alipayimg.jpg" alt="扫码支持" title="扫一扫">
            </div>
              <div class="pay_explain">技术活！当赏！</div>
            <div class="shang_payselect">
              
                <div class="pay_item checked" data-id="alipay">
                  <span class="radiobox"></span>
                  <span class="pay_logo"><img src="/img/alipay.png" alt="支付宝"></span>
                </div>
              
              
                <div class="pay_item" data-id="wechat">
                  <span class="radiobox"></span>
                  <span class="pay_logo"><img src="/img/weixin.png" alt="微信"></span>
                </div>
              
            </div>
            <div class="shang_info">
              <p>打开<span id="shang_pay_txt">支付宝</span>扫一扫，即可进行扫码打赏哦</p>
            </div>
          </div>
        </div>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/zepto/1.2.0/zepto.min.js"></script>
        <script type="text/javascript">
          $(".pay_item").click(function(){
            $(this).addClass('checked').siblings('.pay_item').removeClass('checked');
            var dataid=$(this).attr('data-id');
            $(".shang_payimg img").attr("src","/img/"+dataid+"img.jpg");
            $("#shang_pay_txt").text(dataid=="alipay"?"支付宝":"微信");
          });
          function dashangToggle(){
            
            $(".hide_box").fadeToggle();
            $(".shang_box").fadeToggle();
          }
        </script>
      
    </div>
    
  </div>
  
    
    <div class="copyright">
        <p><span>本文标题:</span><a href="/2019/03/04/常见漏洞分析/">常见漏洞分析</a></p>
        <p><span>文章作者:</span><a href="/" title="访问 Hussar 的个人博客">Hussar</a></p>
        <p><span>发布时间:</span>2019年03月04日 - 20时42分</p>
        <p><span>最后更新:</span>2019年03月20日 - 20时06分</p>
        <p>
            <span>原始链接:</span><a class="post-url" href="/2019/03/04/常见漏洞分析/" title="常见漏洞分析">https://Hussar118.github.io/2019/03/04/常见漏洞分析/</a>
            <span class="copy-path" data-clipboard-text="原文: https://Hussar118.github.io/2019/03/04/常见漏洞分析/　　作者: Hussar" title="点击复制文章链接"><i class="fa fa-clipboard"></i></span>
            <script src="/js/clipboard.min.js"></script>
            <script> var clipboard = new Clipboard('.copy-path'); </script>
        </p>
        <p>
            <span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" title="中国大陆 (CC BY-NC-SA 3.0 CN)" target="_blank">"署名-非商用-相同方式共享 3.0"</a> 转载请保留原文链接及作者。
        </p>
    </div>



<nav id="article-nav">
  
    <a href="/2019/03/07/渗透测试/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          渗透测试
        
      </div>
    </a>
  
  
    <a href="/2019/03/03/Web基础知识理论/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">Web基础知识理论</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>

    <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#SQL注入漏洞"><span class="toc-number">1.</span> <span class="toc-text">SQL注入漏洞</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#文件上传漏洞"><span class="toc-number">2.</span> <span class="toc-text">文件上传漏洞</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#命令注入漏洞"><span class="toc-number">3.</span> <span class="toc-text">命令注入漏洞</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#XSS漏洞"><span class="toc-number">4.</span> <span class="toc-text">XSS漏洞</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#CSRF漏洞"><span class="toc-number">5.</span> <span class="toc-text">CSRF漏洞</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#信息泄露类漏洞"><span class="toc-number">6.</span> <span class="toc-text">信息泄露类漏洞</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#SSRF漏洞"><span class="toc-number">7.</span> <span class="toc-text">SSRF漏洞</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#DNS-rebinding攻击"><span class="toc-number">8.</span> <span class="toc-text">DNS rebinding攻击</span></a></li></ol>
</div>
<input type="button" id="tocButton" value="隐藏目录" title="点击按钮隐藏或者显示文章目录">

<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script>
    var valueHide = "隐藏目录";
    var valueShow = "显示目录";

    if ($(".left-col").is(":hidden")) {
        $("#tocButton").attr("value", valueShow);
    }
    $("#tocButton").click(function() {
        if ($("#toc").is(":hidden")) {
            $("#tocButton").attr("value", valueHide);
            $("#toc").slideDown(320);
        }
        else {
            $("#tocButton").attr("value", valueShow);
            $("#toc").slideUp(350);
        }
    })
    if ($(".toc").length < 1) {
        $("#toc, #tocButton").hide();
    }
</script>


    <style>
        .toc {
            white-space: nowrap;
            overflow-x: hidden;
        }
    </style>

    <script>
        $(document).ready(function() {
            $(".toc li a").mouseover(function() {
                var title = $(this).attr('href');
                $(this).attr("title", title);
            });
        })
    </script>




<div class="bdsharebuttonbox">
	<a href="#" class="fx fa-weibo bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
	<a href="#" class="fx fa-weixin bds_weixin" data-cmd="weixin" title="分享到微信"></a>
	<a href="#" class="fx fa-qq bds_sqq" data-cmd="sqq" title="分享到QQ好友"></a>
	<a href="#" class="fx fa-facebook-official bds_fbook" data-cmd="fbook" title="分享到Facebook"></a>
	<a href="#" class="fx fa-twitter bds_twi" data-cmd="twi" title="分享到Twitter"></a>
	<a href="#" class="fx fa-linkedin bds_linkedin" data-cmd="linkedin" title="分享到linkedin"></a>
	<a href="#" class="fx fa-files-o bds_copy" data-cmd="copy" title="分享到复制网址"></a>
</div>
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"2","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>




    
        <!-- ������City�氲װ���� -->
<div id="lv-container" data-id="city" data-uid="MTAyMC80MTYxOS8xODE2Ng==">
<script type="text/javascript">
   (function(d, s) {
       var j, e = d.getElementsByTagName(s)[0];

       if (typeof LivereTower === 'function') { return; }

       j = d.createElement(s);
       j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
       j.async = true;

       e.parentNode.insertBefore(j, e);
   })(document, 'script');
</script>
<noscript>Ϊ����ʹ�����������۹����뼤��JavaScript</noscript>
</div>
<!-- City�氲װ��������� -->
    



    <div class="scroll" id="post-nav-button">
        
            <a href="/2019/03/07/渗透测试/" title="上一篇: 渗透测试">
                <i class="fa fa-angle-left"></i>
            </a>
        
        <a title="文章列表"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a>
        
            <a href="/2019/03/03/Web基础知识理论/" title="下一篇: Web基础知识理论">
                <i class="fa fa-angle-right"></i>
            </a>
        
    </div>
    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/03/07/渗透测试/">渗透测试</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/03/04/常见漏洞分析/">常见漏洞分析</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/03/03/Web基础知识理论/">Web基础知识理论</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/03/02/渗透测试常用工具/">渗透测试常用工具介绍</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/26/kali linux使用技巧/">kali linux使用技巧</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/13/XSS漏洞—同源策略/">XSS 文件上传漏洞 同源策略</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/10/安全学习心得感受/">Hussar的安全学习心得和体会</a></li></ul>
    <script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
    <script>
        $(".post-list").addClass("toc-article");
        $(".post-list-item a").attr("target","_blank");
        $("#post-nav-button > a:nth-child(2)").click(function() {
            $(".fa-bars, .fa-times").toggle();
            $(".post-list").toggle(300);
            if ($(".toc").length > 0) {
                $("#toc, #tocButton").toggle(200, function() {
                    if ($(".switch-area").is(":visible")) {
                        $("#tocButton").attr("value", valueHide);
                        }
                    })
            }
            else {
            }
        })
    </script>



    <script>
        
    </script>
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left" style="color:#00ccff;font-size:15px">
                &copy; 2019 Hussar
            </div>

            <span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span>
            <script>
                var now = new Date(); 
                function createtime() { 
                    var grt= new Date("12/10/2018 17:38:00");//在此处修改你的建站时间
                    now.setTime(now.getTime()+250); 
                    days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days); 
                    hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours); 
                    if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum); 
                    mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;} 
                    seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum); 
                    snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;} 
                    document.getElementById("timeDate").innerHTML = "本站已安全运行 "+ dnum +" 天 "; 
                    document.getElementById("times").innerHTML = hnum + " 小时 " + mnum + " 分 " + snum + " 秒"; 
                    document.getElementById("times").style.fontSize="15px";
                    document.getElementById("times").style.color="#00ccff";
                    document.getElementById("timeDate").style.fontSize="15px";
                    document.getElementById("timeDate").style.color="#00ccff";
                } 
            setInterval("createtime()",250);
            </script>

            
            <span id="busuanzi_container_site_pv" style="font-size:15px">
            本站总访问量<span id="busuanzi_value_site_pv" style="color:#00ccff"></span>次
            </span>
            <span class="post-meta-divider" style="font-size:15px">|</span>
            <span class="post-meta-divider" style="font-size:15px">|</span>
            <span id="busuanzi_container_site_uv" style="font-size:15px">
            本站访客数:<span id="busuanzi_value_site_uv" style="color:#00ccff"></span>人次
            </span>
            <span class="post-meta-divider" style="font-size:15px">|</span>
            <span class="post-meta-divider" style="font-size:15px">|</span>
        </div>
        
            <div class="visit">
                
                
                
            </div>
        
    </div>
</footer>

    </div>
    <script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>

    <script>
        $(document).ready(function() {
            var backgroundnum = 24;
            var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
            $("#mobile-nav").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
            $(".left-col").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
        })
    </script>




	<script>
	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "//hm.baidu.com/hm.js?0907ba34b610f208108d9f8ba64d9dde";
	  var s = document.getElementsByTagName("script")[0]; 
	  s.parentNode.insertBefore(hm, s);
	})();
	</script>


<div class="scroll" id="scroll">
    <a href="#"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  <script language="javascript">
    $(function() {
        $("a[title]").each(function() {
            var a = $(this);
            var title = a.attr('title');
            if (title == undefined || title == "") return;
            a.data('title', title).removeAttr('title').hover(

            function() {
                var offset = a.offset();
                $("<div id=\"anchortitlecontainer\"></div>").appendTo($("body")).html(title).css({
                    top: offset.top - a.outerHeight() - 15,
                    left: offset.left + a.outerWidth()/2 + 1
                }).fadeIn(function() {
                    var pop = $(this);
                    setTimeout(function() {
                        pop.remove();
                    }, pop.text().length * 800);
                });
            }, function() {
                $("#anchortitlecontainer").remove();
            });
        });
    });
</script>


  </div>
  {% if theme.canvas_nest %}

  <!--动态线条背景-->
  <script type="text/javascript"
  color="220,220,220" opacity='0.8' zIndex="-2" count="210" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>
  
  {% endif %}

<script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/koharu.model.json"},"display":{"position":"right","width":100,"height":200},"mobile":{"show":true},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/love.js"></script>
<!--浏览器搞笑标题-->
<script type="text/javascript" src="\js\FunnyTitle.js"></script>